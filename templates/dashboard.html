{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h2 class="mb-4"><i class="bi bi-speedometer2"></i> Panel de Control</h2>

{% if user_type == 'Administrador' %}
<div class="row mb-4">
    <div class="col-md-4 mb-3">
        <div class="card text-white bg-primary h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title"><i class="bi bi-people"></i> Usuarios</h5>
                        <p class="card-text display-4">{{ stats.usuarios }}</p>
                    </div>
                    <i class="bi bi-people-fill" style="font-size: 3rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card text-white bg-success h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title"><i class="bi bi-files"></i> Documentos</h5>
                        <p class="card-text display-4">{{ stats.documentos }}</p>
                    </div>
                    <i class="bi bi-files" style="font-size: 3rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card text-white bg-warning h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title"><i class="bi bi-exclamation-triangle"></i> Alertas</h5>
                        <p class="card-text display-4">{{ stats.alertas }}</p>
                    </div>
                    <i class="bi bi-exclamation-triangle-fill" style="font-size: 3rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
</div>
{% elif user_type == 'Aprendiz' %}
<div class="row mb-4">
    <div class="col-md-6 mb-3">
        <div class="card text-white bg-info h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title"><i class="bi bi-file-earmark-text"></i> Mis Permisos</h5>
                        <p class="card-text display-4">{{ stats.permisos }}</p>
                    </div>
                    <i class="bi bi-file-earmark-text-fill" style="font-size: 3rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 mb-3">
        <div class="card text-white bg-danger h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title"><i class="bi bi-list-task"></i> Tareas Pendientes</h5>
                        <p class="card-text display-4">{{ stats.tareas_pendientes }}</p>
                    </div>
                    <i class="bi bi-list-task" style="font-size: 3rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
</div>
{% elif user_type == 'Delegado' %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card text-white bg-secondary h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title"><i class="bi bi-exclamation-triangle"></i> Alertas Asignadas</h5>
                        <p class="card-text display-4">{{ stats.alertas_asignadas }}</p>
                    </div>
                    <i class="bi bi-exclamation-triangle-fill" style="font-size: 3rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<div class="card shadow">
    <div class="card-header bg-light">
        <h5 class="mb-0"><i class="bi bi-info-circle"></i> Bienvenido al Sistema de Gestión</h5>
    </div>
    <div class="card-body">
        <p>Utiliza el menú de navegación para acceder a las diferentes funcionalidades del sistema.</p>
        {% if user_type == 'Aprendiz' %}
        <div class="alert alert-info">
            <i class="bi bi-info-circle-fill"></i> Puedes solicitar permisos, ver tus tareas asignadas y consultar tu información personal.
        </div>
        {% elif user_type == 'Delegado' %}
        <div class="alert alert-warning">
            <i class="bi bi-exclamation-triangle-fill"></i> Puedes gestionar permisos, atender alertas y asignar tareas a los aprendices.
        </div>
        {% elif user_type == 'Administrador' %}
        <div class="alert alert-primary">
            <i class="bi bi-gear-fill"></i> Puedes gestionar todos los aspectos del sistema, incluyendo usuarios, documentos y entregas de comida.
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}